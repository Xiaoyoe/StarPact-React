# ç³»ç»Ÿæ—¥å¿—å¼¹çª—è®¾è®¡æ–¹æ¡ˆ

## ğŸ¨ è®¾è®¡æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªåŸºäº React + Tailwind CSS + Framer Motion å®ç°çš„æ·±è‰²ç§‘æŠ€é£ç³»ç»Ÿæ—¥å¿—å¼¹çª—ç»„ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ğŸ” å¤šçº§åˆ«æ—¥å¿—è¿‡æ»¤ï¼ˆALL/DEBUG/INFO/WARNING/ERRORï¼‰
- ğŸ­ å¹³æ»‘çš„åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ
- ğŸ¨ æŒ‰çº§åˆ«åŒºåˆ†çš„é¢œè‰²æ ‡è¯†ç³»ç»Ÿ
- ğŸ’¾ æ—¥å¿—æ¸…ç©ºå’Œå¯¼å‡ºåŠŸèƒ½
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ğŸ”„ å®æ—¶æ›´æ–°çš„æ—¥å¿—æ˜¾ç¤º

## ğŸ“ ç»„ä»¶ç»“æ„

```tsx
LogsPanel/
â”œâ”€â”€ ä¸»å®¹å™¨ï¼ˆå›ºå®šå®šä½ï¼Œå…¨å±è¦†ç›–ï¼‰
â”œâ”€â”€ æ—¥å¿—é¢æ¿ï¼ˆå¡ç‰‡å¼è®¾è®¡ï¼‰
â”‚   â”œâ”€â”€ å¤´éƒ¨ï¼ˆæ ‡é¢˜ã€ç»Ÿè®¡ã€æ“ä½œæŒ‰é’®ï¼‰
â”‚   â”œâ”€â”€ è¿‡æ»¤æ ï¼ˆæ—¥å¿—çº§åˆ«è¿‡æ»¤æŒ‰é’®ï¼‰
â”‚   â”œâ”€â”€ æ—¥å¿—åˆ—è¡¨ï¼ˆæŒ‰çº§åˆ«ç€è‰²æ˜¾ç¤ºï¼‰
â”‚   â””â”€â”€ ç©ºçŠ¶æ€ï¼ˆæ— æ—¥å¿—æ—¶æ˜¾ç¤ºï¼‰
â””â”€â”€ åŠ¨ç”»æ•ˆæœï¼ˆä½¿ç”¨ framer-motionï¼‰
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ—¥å¿—çº§åˆ«é¢œè‰²ç³»ç»Ÿ

| çº§åˆ« | èƒŒæ™¯è‰² | æ–‡æœ¬è‰² | ç‚¹é¢œè‰² | ç”¨é€” |
|------|--------|--------|--------|------|
| DEBUG | `bg-white/5` | `text-white/40` | `bg-white/30` | è°ƒè¯•ä¿¡æ¯ |
| INFO | `bg-[#165DFF]/5` | `text-[#165DFF]` | `bg-[#165DFF]` | æ™®é€šä¿¡æ¯ |
| WARNING | `bg-[#FF7D00]/5` | `text-[#FF7D00]` | `bg-[#FF7D00]` | è­¦å‘Šä¿¡æ¯ |
| ERROR | `bg-[#F53F3F]/5` | `text-[#F53F3F]` | `bg-[#F53F3F]` | é”™è¯¯ä¿¡æ¯ |

### 2. åŠ¨ç”»æ•ˆæœ

- **æ·¡å…¥æ·¡å‡º**ï¼šå¼¹çª—å‡ºç°å’Œæ¶ˆå¤±æ—¶çš„é€æ˜åº¦åŠ¨ç”»
- **ç¼©æ”¾æ•ˆæœ**ï¼šå¼¹çª—å‡ºç°æ—¶çš„è½»å¾®ç¼©æ”¾åŠ¨ç”»
- **å¹³æ»‘è¿‡æ¸¡**ï¼šæ‰€æœ‰çŠ¶æ€å˜åŒ–çš„å¹³æ»‘è¿‡æ¸¡

### 3. äº¤äº’åŠŸèƒ½

- **ç‚¹å‡»é®ç½©å…³é—­**ï¼šç‚¹å‡»å¼¹çª—å¤–éƒ¨çš„é®ç½©åŒºåŸŸå…³é—­å¼¹çª—
- **æ¸…ç©ºæ—¥å¿—**ï¼šä¸€é”®æ¸…ç©ºæ‰€æœ‰æ—¥å¿—è®°å½•
- **å¯¼å‡ºæ—¥å¿—**ï¼šå¯¼å‡ºæ—¥å¿—ä¸ºæ–‡ä»¶
- **çº§åˆ«è¿‡æ»¤**ï¼šæŒ‰æ—¥å¿—çº§åˆ«è¿‡æ»¤æ˜¾ç¤ºå†…å®¹
- **æ‚¬åœæ•ˆæœ**ï¼šæ—¥å¿—æ¡ç›®æ‚¬åœæ—¶çš„èƒŒæ™¯è‰²å˜åŒ–

## ğŸ“‹ å®Œæ•´å®ç°ä»£ç 

### ç±»å‹å®šä¹‰

```typescript
// types/index.ts
export interface LogEntry {
  id: string;
  level: 'DEBUG' | 'INFO' | 'WARNING' | 'ERROR';
  message: string;
  timestamp: number;
  module?: string;
}
```

### çŠ¶æ€ç®¡ç†

```typescript
// store/index.ts
import { create } from 'zustand';
import type { LogEntry } from '@/types';

export interface AppState {
  // å…¶ä»–çŠ¶æ€...
  logsPanelOpen: boolean;
  logs: LogEntry[];
  setLogsPanelOpen: (open: boolean) => void;
  addLog: (log: Omit<LogEntry, 'id' | 'timestamp'>) => void;
  clearLogs: () => void;
}

export const useAppStore = create<AppState>((set) => ({
  // å…¶ä»–çŠ¶æ€...
  logsPanelOpen: false,
  logs: [],
  
  setLogsPanelOpen: (open) => set({ logsPanelOpen: open }),
  
  addLog: (log) => set((state) => ({
    logs: [
      {
        ...log,
        id: crypto.randomUUID(),
        timestamp: Date.now(),
      },
      ...state.logs,
    ].slice(0, 1000), // é™åˆ¶æ—¥å¿—æ•°é‡
  })),
  
  clearLogs: () => set({ logs: [] }),
}));
```

### ç»„ä»¶å®ç°

```tsx
// components/LogsPanel.tsx
import { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { X, Trash2, Download, Filter } from 'lucide-react';
import { useAppStore } from '@/store';
import { cn } from '@/utils/cn';
import type { LogEntry } from '@/types';

const levelColors: Record<LogEntry['level'], { bg: string; text: string; dot: string }> = {
  DEBUG: { bg: 'bg-white/5', text: 'text-white/40', dot: 'bg-white/30' },
  INFO: { bg: 'bg-[#165DFF]/5', text: 'text-[#165DFF]', dot: 'bg-[#165DFF]' },
  WARNING: { bg: 'bg-[#FF7D00]/5', text: 'text-[#FF7D00]', dot: 'bg-[#FF7D00]' },
  ERROR: { bg: 'bg-[#F53F3F]/5', text: 'text-[#F53F3F]', dot: 'bg-[#F53F3F]' },
};

export function LogsPanel() {
  const { logsPanelOpen, logs, setLogsPanelOpen, clearLogs } = useAppStore();
  const [levelFilter, setLevelFilter] = useState<LogEntry['level'] | 'ALL'>('ALL');

  const filteredLogs = levelFilter === 'ALL'
    ? logs
    : logs.filter(l => l.level === levelFilter);

  if (!logsPanelOpen) return null;

  return (
    <AnimatePresence>
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        className="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"
        onClick={() => setLogsPanelOpen(false)}
      >
        <motion.div
          initial={{ opacity: 0, scale: 0.95 }}
          animate={{ opacity: 1, scale: 1 }}
          exit={{ opacity: 0, scale: 0.95 }}
          className="w-[700px] max-w-[95vw] h-[500px] max-h-[85vh] bg-[#161830] border border-white/[0.08] rounded-2xl shadow-2xl flex flex-col overflow-hidden"
          onClick={e => e.stopPropagation()}
        >
          {/* å¤´éƒ¨ */}
          <div className="flex items-center justify-between px-5 py-4 border-b border-white/[0.06]">
            <div>
              <h2 className="text-sm font-semibold text-white/85">ç³»ç»Ÿæ—¥å¿—</h2>
              <p className="text-[11px] text-white/30 mt-0.5">{filteredLogs.length} æ¡æ—¥å¿—è®°å½•</p>
            </div>
            <div className="flex items-center gap-2">
              <button
                onClick={clearLogs}
                className="flex items-center gap-1 px-2.5 py-1.5 text-xs text-white/40 hover:text-white/60 hover:bg-white/5 rounded-lg transition-colors"
              >
                <Trash2 className="w-3 h-3" /> æ¸…ç©º
              </button>
              <button className="flex items-center gap-1 px-2.5 py-1.5 text-xs text-white/40 hover:text-white/60 hover:bg-white/5 rounded-lg transition-colors">
                <Download className="w-3 h-3" /> å¯¼å‡º
              </button>
              <button
                onClick={() => setLogsPanelOpen(false)}
                className="p-1.5 rounded-lg hover:bg-white/5 transition-colors"
              >
                <X className="w-4 h-4 text-white/30" />
              </button>
            </div>
          </div>

          {/* è¿‡æ»¤æ  */}
          <div className="flex items-center gap-2 px-5 py-3 border-b border-white/[0.06]">
            <Filter className="w-3.5 h-3.5 text-white/25" />
            {(['ALL', 'DEBUG', 'INFO', 'WARNING', 'ERROR'] as const).map(level => (
              <button
                key={level}
                onClick={() => setLevelFilter(level)}
                className={cn(
                  'px-2.5 py-1 rounded-lg text-[11px] font-medium transition-all',
                  levelFilter === level
                    ? 'bg-white/10 text-white/80'
                    : 'text-white/30 hover:text-white/50 hover:bg-white/5'
                )}
              >
                {level === 'ALL' ? 'å…¨éƒ¨' : level}
              </button>
            ))}
          </div>

          {/* æ—¥å¿—åˆ—è¡¨ */}
          <div className="flex-1 overflow-y-auto scrollbar-thin">
            {filteredLogs.length === 0 ? (
              <div className="flex flex-col items-center justify-center h-full text-white/20">
                <p className="text-sm">æš‚æ— æ—¥å¿—</p>
              </div>
            ) : (
              <div className="divide-y divide-white/[0.03]">
                {filteredLogs.map(log => {
                  const colors = levelColors[log.level];
                  return (
                    <div
                      key={log.id}
                      className={cn('flex items-start gap-3 px-5 py-2.5 hover:bg-white/[0.02] transition-colors', colors.bg)}
                    >
                      <div className={cn('w-1.5 h-1.5 rounded-full mt-1.5 flex-shrink-0', colors.dot)} />
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center gap-2 mb-0.5">
                          <span className={cn('text-[10px] font-semibold uppercase tracking-wider', colors.text)}>
                            {log.level}
                          </span>
                          {log.module && (
                            <span className="text-[10px] text-white/20 px-1.5 py-0.5 bg-white/5 rounded">
                              {log.module}
                            </span>
                          )}
                          <span className="text-[10px] text-white/15 ml-auto">
                            {new Date(log.timestamp).toLocaleTimeString()}
                          </span>
                        </div>
                        <p className="text-xs text-white/50 break-all">{log.message}</p>
                      </div>
                    </div>
                  );
                })}
              </div>
            )}
          </div>
        </motion.div>
      </motion.div>
    </AnimatePresence>
  );
}
```

### æ ·å¼è¡¥å……

```css
/* æ»šåŠ¨æ¡æ ·å¼ï¼ˆæ·»åŠ åˆ° index.cssï¼‰ */
.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 4px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.15);
}
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ‰“å¼€æ—¥å¿—é¢æ¿

```tsx
import { useAppStore } from '@/store';
import { LogsPanel } from '@/components/LogsPanel';

function Header() {
  const { setLogsPanelOpen } = useAppStore();

  return (
    <header>
      {/* å…¶ä»–å†…å®¹ */}
      <button
        onClick={() => setLogsPanelOpen(true)}
        className="p-2 hover:bg-white/5 rounded-lg"
      >
        {/* æ—¥å¿—å›¾æ ‡ */}
      </button>
      <LogsPanel />
    </header>
  );
}
```

### 2. æ·»åŠ æ—¥å¿—

```tsx
import { useAppStore } from '@/store';

function SomeComponent() {
  const { addLog } = useAppStore();

  // æ·»åŠ ä¸åŒçº§åˆ«çš„æ—¥å¿—
  const logInfo = () => {
    addLog({
      level: 'INFO',
      message: 'ç”¨æˆ·ç™»å½•æˆåŠŸ',
      module: 'auth',
    });
  };

  const logError = () => {
    addLog({
      level: 'ERROR',
      message: 'ç½‘ç»œè¯·æ±‚å¤±è´¥',
      module: 'api',
    });
  };

  return (
    // ç»„ä»¶å†…å®¹
  );
}
```

## ğŸ¨ è®¾è®¡ç»†èŠ‚

### é¢œè‰²æ–¹æ¡ˆ

- **ä¸»èƒŒæ™¯**ï¼š`#161830` - æ·±è“é»‘è‰²è°ƒ
- **è¾¹æ¡†**ï¼š`border-white/[0.06]` - å‡ ä¹é€æ˜çš„ç™½è‰²è¾¹æ¡†
- **æ–‡æœ¬**ï¼šä» `text-white/85` åˆ° `text-white/15` çš„åˆ†çº§é€æ˜åº¦
- **é˜´å½±**ï¼š`shadow-2xl` - æ·±æ²‰çš„é˜´å½±æ•ˆæœ
- **é®ç½©**ï¼š`bg-black/60 backdrop-blur-sm` - åŠé€æ˜æ¨¡ç³Šé®ç½©

### æ’ç‰ˆç³»ç»Ÿ

- **æ ‡é¢˜**ï¼š`text-sm font-semibold text-white/85`
- **å‰¯æ ‡é¢˜**ï¼š`text-[11px] text-white/30`
- **æŒ‰é’®æ–‡æœ¬**ï¼š`text-xs text-white/40`
- **æ—¥å¿—çº§åˆ«**ï¼š`text-[10px] font-semibold uppercase tracking-wider`
- **æ—¥å¿—æ—¶é—´**ï¼š`text-[10px] text-white/15`
- **æ—¥å¿—å†…å®¹**ï¼š`text-xs text-white/50`

### é—´è·ç³»ç»Ÿ

- **å†…éƒ¨é—´è·**ï¼š`px-5 py-2.5`ï¼ˆæ—¥å¿—æ¡ç›®ï¼‰
- **å¤–éƒ¨é—´è·**ï¼š`gap-2`ï¼ˆæŒ‰é’®é—´è·ï¼‰ã€`gap-3`ï¼ˆæ—¥å¿—å†…å®¹é—´è·ï¼‰
- **è¾¹æ¡†é—´è·**ï¼š`border-b border-white/[0.06]`ï¼ˆåˆ†å‰²çº¿ï¼‰

## ğŸ“± å“åº”å¼è®¾è®¡

- **æœ€å¤§å®½åº¦**ï¼š`w-[700px] max-w-[95vw]` - é€‚é…ä¸åŒå±å¹•
- **æœ€å¤§é«˜åº¦**ï¼š`h-[500px] max-h-[85vh]` - é¿å…å æ»¡æ•´ä¸ªå±å¹•
- **æ»šåŠ¨æ¡**ï¼š`overflow-y-auto scrollbar-thin` - é•¿åˆ—è¡¨æ—¶è‡ªåŠ¨æ»šåŠ¨

## ğŸ­ åŠ¨ç”»æ•ˆæœ

### æ‰“å¼€åŠ¨ç”»
1. é®ç½©ï¼šä» `opacity: 0` åˆ° `opacity: 1`
2. é¢æ¿ï¼šä» `opacity: 0, scale: 0.95` åˆ° `opacity: 1, scale: 1`

### å…³é—­åŠ¨ç”»
1. é®ç½©ï¼šä» `opacity: 1` åˆ° `opacity: 0`
2. é¢æ¿ï¼šä» `opacity: 1, scale: 1` åˆ° `opacity: 0, scale: 0.95`

### è¿‡æ¸¡æ—¶é—´
- ä½¿ç”¨ Framer Motion çš„é»˜è®¤è¿‡æ¸¡æ—¶é—´ï¼ˆçº¦ 0.3 ç§’ï¼‰
- æ‰€æœ‰çŠ¶æ€å˜åŒ–éƒ½æœ‰å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœ

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šReact 19+
- **æ ·å¼**ï¼šTailwind CSS v4+
- **åŠ¨ç”»**ï¼šFramer Motion v12+
- **çŠ¶æ€ç®¡ç†**ï¼šZustand v5+
- **ç±»å‹ç³»ç»Ÿ**ï¼šTypeScript 5+

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

1. **æ—¥å¿—æ•°é‡é™åˆ¶**ï¼šé»˜è®¤æœ€å¤šæ˜¾ç¤º 1000 æ¡æ—¥å¿—
2. **è™šæ‹Ÿæ»šåŠ¨**ï¼šå¯¹äºå¤§é‡æ—¥å¿—ï¼Œå¯ä»¥é›†æˆ `react-window`
3. **é˜²æŠ–å¤„ç†**ï¼šé¢‘ç¹æ·»åŠ æ—¥å¿—æ—¶ä½¿ç”¨é˜²æŠ–
4. **æ¡ä»¶æ¸²æŸ“**ï¼š`if (!logsPanelOpen) return null` - æœªæ‰“å¼€æ—¶ä¸æ¸²æŸ“

## ğŸ¯ æœ€ä½³å®è·µ

1. **æ¨¡å—åŒ–**ï¼šå°†æ—¥å¿—ç›¸å…³åŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹æ¨¡å—
2. **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ TypeScript ç¡®ä¿ç±»å‹æ­£ç¡®
3. **å¯æ‰©å±•æ€§**ï¼šé¢„ç•™å¯¼å‡ºã€ç­›é€‰ç­‰åŠŸèƒ½çš„æ‰©å±•ç‚¹
4. **ç”¨æˆ·ä½“éªŒ**ï¼šæ·»åŠ åŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ç­‰
5. **å¯æµ‹è¯•æ€§**ï¼šåˆ†ç¦»ä¸šåŠ¡é€»è¾‘å’Œ UI æ¸²æŸ“

## ğŸ“ æ—¥å¿—æ ¼å¼å»ºè®®

```typescript
// æ¨èçš„æ—¥å¿—ç»“æ„
const logEntry = {
  level: 'INFO',        // æ—¥å¿—çº§åˆ«
  message: 'æ“ä½œæè¿°',   // æ—¥å¿—å†…å®¹
  module: 'æ¨¡å—åç§°',    // æ¨¡å—æ ‡è¯†ï¼ˆå¯é€‰ï¼‰
  data: { ... },        // é™„åŠ æ•°æ®ï¼ˆå¯é€‰ï¼‰
};
```

## ğŸ¨ ä¸»é¢˜å®šåˆ¶

è¦ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆï¼Œåªéœ€æ›´æ–° `levelColors` å¯¹è±¡ï¼š

```typescript
const levelColors = {
  DEBUG: { bg: 'bg-white/5', text: 'text-white/40', dot: 'bg-white/30' },
  INFO: { bg: 'bg-blue-500/5', text: 'text-blue-400', dot: 'bg-blue-500' },
  WARNING: { bg: 'bg-yellow-500/5', text: 'text-yellow-400', dot: 'bg-yellow-500' },
  ERROR: { bg: 'bg-red-500/5', text: 'text-red-400', dot: 'bg-red-500' },
};
```

## ğŸš€ éƒ¨ç½²å»ºè®®

1. **ç”Ÿäº§ç¯å¢ƒ**ï¼šä½¿ç”¨ Vite æ„å»ºï¼Œç¡®ä¿ä»£ç å‹ç¼©
2. **å¼€å‘ç¯å¢ƒ**ï¼šå¯ç”¨çƒ­æ›´æ–°ï¼Œå®æ—¶æŸ¥çœ‹æ—¥å¿—
3. **æµ‹è¯•ç¯å¢ƒ**ï¼šæ·»åŠ æ—¥å¿—æµ‹è¯•ç”¨ä¾‹
4. **ç›‘æ§**ï¼šé›†æˆé”™è¯¯ç›‘æ§æœåŠ¡

## ğŸ“„ è®¸å¯è¯

MIT License - è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

## ğŸŒŸ ç‰¹è‰²äº®ç‚¹

1. **è§†è§‰æ•ˆæœ**ï¼šæ·±è‰²ç§‘æŠ€é£è®¾è®¡ï¼Œç¬¦åˆç°ä»£ UI è¶‹åŠ¿
2. **ç”¨æˆ·ä½“éªŒ**ï¼šå¹³æ»‘çš„åŠ¨ç”»è¿‡æ¸¡å’Œç›´è§‚çš„äº¤äº’
3. **åŠŸèƒ½å®Œæ•´**ï¼šæ¶µç›–æ—¥å¿—ç®¡ç†çš„æ ¸å¿ƒåŠŸèƒ½
4. **ä»£ç è´¨é‡**ï¼šTypeScript ç±»å‹å®‰å…¨ï¼Œç»“æ„æ¸…æ™°
5. **æ€§èƒ½ä¼˜åŒ–**ï¼šè€ƒè™‘äº†å¤§é‡æ—¥å¿—çš„å¤„ç†æ–¹å¼
6. **æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°åŠŸèƒ½å’Œä¸»é¢˜å®šåˆ¶

è¿™ä¸ªæ—¥å¿—å¼¹çª—ç»„ä»¶ä¸ä»…åŠŸèƒ½å®Œæ•´ï¼Œè€Œä¸”è§†è§‰æ•ˆæœå‡ºè‰²ï¼Œæ˜¯ç°ä»£ Web åº”ç”¨ä¸­ç³»ç»Ÿç›‘æ§å’Œè°ƒè¯•çš„ç†æƒ³é€‰æ‹©ï¼